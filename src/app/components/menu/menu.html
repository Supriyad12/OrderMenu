<!-- MAIN MENU UI (hidden after order is confirmed) -->
<div class="menu-container" *ngIf="!orderConfirmed">
  <div class="customer-info">
    <h1 class="app-title">ğŸ½ï¸ Welcome to Digital Hotel Menu.</h1>
    ğŸ‘‹ Welcome, <strong>{{ customerName }}</strong><br />
    ğŸ“± {{ customerMobile }} | ğŸª‘ Table No: {{ tableNumber }}
  </div>

  <div *ngFor="let section of foodItems" class="menu-category">
    <h2 class="category-title">ğŸ´ {{ section.category }}</h2>
    <div class="menu-grid">
      <div class="menu-card" *ngFor="let item of section.items">
        <h4>{{ item.name }}</h4>
        <p>â‚¹{{ item.price }}</p>
        <button (click)="addToCart(item)">Add to Cart</button>
      </div>
    </div>
  </div>

  <!-- Floating Cart Icon -->
  <div class="cart-icon" *ngIf="cart.length > 0 && !showPaymentPopup" (click)="toggleBill()">
    ğŸ›’
    <span class="badge">{{ cart.length }}</span>
  </div>

  <!-- Bill Section -->
  <div class="bill-section" *ngIf="showBill && cart.length > 0">
    <h3>ğŸ§¾ Order Summary</h3>
    <ul>
      <li *ngFor="let item of cart; let i = index">
        {{ item.name }} x{{ item.quantity }} â€“ â‚¹{{ item.price * item.quantity }}
        <button (click)="decreaseQuantity(i)">â–</button>
        <button (click)="removeFromCart(i)">âŒ</button>
      </li>
    </ul>
    <p class="total"><strong>Total: â‚¹{{ total }}</strong></p>
    <button class="place-btn" (click)="placeOrder()">Place Order</button>
  </div>
</div>

<!-- ğŸ’³ Payment Popup -->
<div class="payment-popup" *ngIf="showPaymentPopup && !orderConfirmed">
  <div class="popup-box">
    <h3>ğŸ’³ Pay First</h3>
    <p>Please complete your payment before finalizing your order.</p>
    <p><strong>Amount:</strong> â‚¹{{ total }}</p>
    <button (click)="confirmPayment()">Pay Now</button>
    <button class="cancel-btn" (click)="showPaymentPopup = false">Cancel</button>
  </div>
</div>

<!-- âœ… FINAL BILL ONLY -->
<div class="final-bill" *ngIf="orderConfirmed">
  <h2>âœ… Order Confirmed!</h2>
  <p>ğŸ§‘â€ğŸ³ Customer: <strong>{{ customerName }}</strong></p>
  <p>ğŸ“± Mobile: {{ customerMobile }}</p>
  <p>ğŸª‘ Table: {{ tableNumber }}</p>
  <p>ğŸ•’ Ordered at: {{ orderTime | date:'shortTime' }}</p>
  <hr />
  <h3>ğŸ§¾ Final Bill</h3>
  <ul>
    <li *ngFor="let item of confirmedItems">
      {{ item.name }} x{{ item.quantity }} â€“ â‚¹{{ item.price * item.quantity }}
    </li>
  </ul>
  <p class="total"><strong>Total Paid: â‚¹{{ confirmedTotal }}</strong></p>
  <p>ğŸ™ Thank you for ordering!</p>
</div>
   